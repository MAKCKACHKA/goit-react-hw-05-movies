"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[369],{369:function(e,t,a){a.r(t);var s=a(439),c=a(791),i=a(87),n=a(689),o=a(226),r=a(184);t.default=function(){var e,t=(0,c.useState)(1),a=(0,s.Z)(t,2),l=a[0],h=a[1],u=(0,c.useState)(""),m=(0,s.Z)(u,2),d=m[0],p=m[1],Z=(0,c.useState)(!1),f=(0,s.Z)(Z,2),j=f[0],N=f[1],g=(0,c.useState)([]),x=(0,s.Z)(g,2),v=x[0],b=x[1],I=(0,i.lr)(),M=(0,s.Z)(I,2),S=M[0],Y=M[1],k=(0,c.useState)(!1),J=(0,s.Z)(k,2),_=J[0],w=J[1],y=null!==(e=S.get("title"))&&void 0!==e?e:"";(0,c.useEffect)((function(){fetch("https://api.themoviedb.org/3/search/movie?query=".concat(y,"&include_adult=false&language=en-US&page=").concat(l),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZTJlYjhmY2Y4MjgxZDk2MzUxZDM3NzkwYjY4NDliMyIsInN1YiI6IjY0ZTY1MWI1MDZmOTg0MDBjYTU0M2IxYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Jl0g1qZXpWsls6NI2whWYvOEA3R_4Z8tBb5aQwqzmWs"}}).then((function(e){return e.json()})).then((function(e){b(e.results),N(!1)})).catch((function(e){console.error(e),N(!1)}))}),[y,l]);var F=(0,n.TH)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:o.Z.Searchbar,children:(0,r.jsxs)("form",{role:"search",className:o.Z.SearchForm,onSubmit:function(e){var t;e.preventDefault(),p(""),h(1),(""!==d&&v.length<1||v===[])&&N(!0),Y(""!==(t=d)?{title:t}:{}),w(!0)},children:[(0,r.jsx)("button",{className:o.Z.SearchFormButton,type:"submit",children:(0,r.jsx)("span",{className:o.Z.SearchFormButtonLabel,children:"\u260c"})}),(0,r.jsx)("input",{className:o.Z.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){var t=e.target.value;p(t)},value:d})]})}),j?(0,r.jsx)("p",{className:o.Z.NotFound,children:" isLoading... "}):(0,r.jsx)("div",{children:_&&v.length<1?(0,r.jsx)("p",{className:o.Z.NotFound,children:"Not Found"}):(0,r.jsxs)("div",{className:o.Z.MovieListWrapper,children:[(0,r.jsx)("ul",{className:o.Z.MovieList,children:v.map((function(e){return(0,r.jsx)("li",{className:o.Z.MovieItem,children:(0,r.jsxs)(i.rU,{to:"".concat(e.id),state:{from:F},children:[e.poster_path?(0,r.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(e.poster_path),alt:e.original_title,className:o.Z.MoviePoster}):(0,r.jsx)("img",{src:"https://th.bing.com/th/id/R.3e77a1db6bb25f0feb27c95e05a7bc57?rik=07AQ3YRhkD3z8A&pid=ImgRaw&r=0",alt:e.original_title,className:o.Z.MoviePoster}),(0,r.jsx)("p",{className:o.Z.MovieTitle,children:e.title})]})},e.id)}))}),_&&(0,r.jsx)("button",{className:o.Z.Button,type:"button",onClick:function(){h(l+1)},children:"Next page"})]})})]})}}}]);
//# sourceMappingURL=369.176c0710.chunk.js.map