"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[369],{880:function(e,t,a){a.d(t,{Y:function(){return s}});var s=function(e){return fetch(e,{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZTJlYjhmY2Y4MjgxZDk2MzUxZDM3NzkwYjY4NDliMyIsInN1YiI6IjY0ZTY1MWI1MDZmOTg0MDBjYTU0M2IxYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Jl0g1qZXpWsls6NI2whWYvOEA3R_4Z8tBb5aQwqzmWs"}}).then((function(e){return e.json()}))}},369:function(e,t,a){a.r(t);var s=a(439),n=a(880),c=a(791),i=a(87),r=a(689),o=a(226),l=a(184);t.default=function(){var e,t=(0,c.useState)(1),a=(0,s.Z)(t,2),u=a[0],h=a[1],m=(0,c.useState)(""),d=(0,s.Z)(m,2),p=d[0],f=d[1],Z=(0,c.useState)(!1),j=(0,s.Z)(Z,2),g=j[0],N=j[1],v=(0,c.useState)([]),x=(0,s.Z)(v,2),b=x[0],I=x[1],M=(0,i.lr)(),Y=(0,s.Z)(M,2),S=Y[0],k=Y[1],J=(0,c.useState)(!1),_=(0,s.Z)(J,2),w=_[0],y=_[1],F=null!==(e=S.get("title"))&&void 0!==e?e:"";(0,c.useEffect)((function(){(0,n.Y)("https://api.themoviedb.org/3/search/movie?query=".concat(F,"&include_adult=false&language=en-US&page=").concat(u)).then((function(e){I(e.results),N(!1)})).catch((function(e){console.error(e),N(!1)}))}),[F,u]);var z=(0,r.TH)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:o.Z.Searchbar,children:(0,l.jsxs)("form",{role:"search",className:o.Z.SearchForm,onSubmit:function(e){var t;e.preventDefault(),f(""),h(1),(""!==p&&b.length<1||b===[])&&N(!0),k(""!==(t=p)?{title:t}:{}),y(!0)},children:[(0,l.jsx)("button",{className:o.Z.SearchFormButton,type:"submit",children:(0,l.jsx)("span",{className:o.Z.SearchFormButtonLabel,children:"\u260c"})}),(0,l.jsx)("input",{className:o.Z.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){var t=e.target.value;f(t)},value:p})]})}),g?(0,l.jsx)("p",{className:o.Z.NotFound,children:" isLoading... "}):(0,l.jsx)("div",{children:w&&b.length<1?(0,l.jsx)("p",{className:o.Z.NotFound,children:"Not Found"}):(0,l.jsxs)("div",{className:o.Z.MovieListWrapper,children:[(0,l.jsx)("ul",{className:o.Z.MovieList,children:b.map((function(e){return(0,l.jsx)("li",{className:o.Z.MovieItem,children:(0,l.jsxs)(i.rU,{to:"".concat(e.id),state:{from:z},children:[e.poster_path?(0,l.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(e.poster_path),alt:e.original_title,className:o.Z.MoviePoster}):(0,l.jsx)("img",{src:"https://th.bing.com/th/id/R.3e77a1db6bb25f0feb27c95e05a7bc57?rik=07AQ3YRhkD3z8A&pid=ImgRaw&r=0",alt:e.original_title,className:o.Z.MoviePoster}),(0,l.jsx)("p",{className:o.Z.MovieTitle,children:e.title})]})},e.id)}))}),0!==b.length&&(0,l.jsx)("button",{className:o.Z.Button,type:"button",onClick:function(){h(u+1)},children:"Next page"})]})})]})}}}]);
//# sourceMappingURL=369.43c0255b.chunk.js.map